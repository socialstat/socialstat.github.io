Several studies in the mathematical education literature show the effect of students??? skills in maths on their success at higher levels of education. In particular, the importance of maths course taking in US high schools is highlighted for college enrolment and completion, but also for career prospective and job success. The choice of taking additional maths courses or, as in Italy, of choosing a high school curriculum with more maths, is not random. It depends on several factors such as gender and socio-economic status. At the same time students??? university performance in terms of enrolment and success are often course-specific and they highly depend on socio-demographic characteristics of the students more than students??? ability. The selection bias and the performance heterogeneity imply that the differences on the academic outcomes might be traceable not only to mathematics ability and knowledge. In this paper, making a parallel with a clinical study, the aim is estimating the treatment effect of attending a relatively new high school curriculum with more maths, the Applied Science lyceum, with respect to the traditional scientific lyceum, on two academic outcomes of the Italian students: university enrolment and first-year university performance. The study design, given the hierarchical data structure and the fact that the treatment assignment occurs at high school level, is a non randomized clustered trial. After having compared several multilevel propensity score matching techniques for the elimination of the selection bias both at student and high school level, we propose a statistical model for the joint academic outcome (probability of enrolment and academic performance) that take into account the heterogeneity of the academic courses.